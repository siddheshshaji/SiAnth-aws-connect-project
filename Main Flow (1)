{"Version":"2019-10-30","StartAction":"33d1a478-af12-406a-9d51-fcdd84a58219","Metadata":{"entryPointPosition":{"x":-225.60000000000002,"y":41.6},"ActionMetadata":{"68947d19-4201-410d-bc5e-c0accabe46b4":{"position":{"x":2765.6000000000004,"y":-1528},"parameters":{"ThirdPartyPhoneNumber":{"countryCode":"US"}},"CountryCode":"us"},"ebe52a8f-1682-4ef7-bb1b-9bbe88a913ee":{"position":{"x":197.60000000000002,"y":-285.6},"parameters":{"Attributes":{"customer_number":{"useDynamic":true},"customer_choice":{"useDynamic":true}}},"dynamicParams":["customer_number","customer_choice"]},"86893226-d186-449a-aae3-c76b14b1f9b8":{"position":{"x":701.6,"y":-324.8},"parameters":{"LambdaFunctionARN":{"displayName":"searchMemberByPhone"},"LambdaInvocationAttributes":{"customer_number":{"useDynamic":true}}},"dynamicMetadata":{"customer_number":true}},"26562e8e-dbe9-4aa9-b833-d1788d680e13":{"position":{"x":2380.8,"y":-1230.4}},"a5a18a29-3ad8-419b-9473-2319220bac4a":{"position":{"x":2766.4,"y":-970.4000000000001},"parameters":{"ThirdPartyPhoneNumber":{"countryCode":"US"}},"CountryCode":"us"},"45163a19-8af5-4196-86a2-288069198632":{"position":{"x":2394.4,"y":-828}},"8e8ad9c6-f3e1-4a35-a8a2-fc9c5bb0236a":{"position":{"x":2383.2000000000003,"y":-1028.8}},"decb6a10-ded1-4854-ae8c-8f8e3ebcb97c":{"position":{"x":2764.8,"y":-1250.4},"parameters":{"ThirdPartyPhoneNumber":{"countryCode":"US"}},"CountryCode":"us"},"33d1a478-af12-406a-9d51-fcdd84a58219":{"position":{"x":-37.6,"y":-5.6000000000000005},"conditionMetadata":[],"countryCodePrefix":"+1"},"a39e290f-e08c-4191-ba03-2ba6fa0a95a7":{"position":{"x":467.20000000000005,"y":-356},"conditionMetadata":[{"id":"71beb7a1-521e-4636-823b-7cda26fd5a3b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"1"},{"id":"c04c8ca7-bc7c-45cf-b889-00a2a69418af","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"2"},{"id":"d94f44c7-15b0-4fad-b62e-5d1bd26d2e39","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"3"},{"id":"00f7d914-3528-4cf7-baa6-5f428edd8851","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"4"}]},"e07979ee-41ba-497b-a42f-a35bc5fee2a3":{"position":{"x":2768.8,"y":-688},"parameters":{"ThirdPartyPhoneNumber":{"countryCode":"US"}},"CountryCode":"us"},"377c00e9-b72d-478d-8cee-6a552f51fd0e":{"position":{"x":3342.4,"y":-1182.4}},"b1906b97-f4f1-497d-832a-34c639cb3e4e":{"position":{"x":2396.8,"y":-617.6}},"28a10930-b4ed-4204-a45e-03d7644928fa":{"position":{"x":1019.2,"y":-116},"conditionMetadata":[{"id":"d1263b59-e103-4a09-90d4-4fb81e79af65","value":"1"},{"id":"301c6f38-3629-46ea-b0e3-6f9f4413e02e","value":"0"}]},"b07de326-c3d5-4a67-a866-d2e19b2db35d":{"position":{"x":1281.6000000000001,"y":-188},"conditionMetadata":[],"countryCodePrefix":"+1"},"d637c2a8-8816-4632-93d2-b0dbb44be433":{"position":{"x":1520.8000000000002,"y":-190.4},"parameters":{"Attributes":{"customer_member_number":{"useDynamic":true}}},"dynamicParams":["customer_member_number"]},"b40be414-3af1-432a-b0ed-02a340c0c040":{"position":{"x":1807.2,"y":-186.4},"conditionMetadata":[],"countryCodePrefix":"+1"},"62d03ba6-349c-4f7e-88ae-19613397816d":{"position":{"x":512.8000000000001,"y":204}},"124148e2-f178-407c-bcd9-63fbc59b5255":{"position":{"x":2038.4,"y":-190.4},"parameters":{"Attributes":{"customer_dob":{"useDynamic":true}}},"dynamicParams":["customer_dob"]},"0f46d55d-859e-4650-9b71-136be5597025":{"position":{"x":2271.2000000000003,"y":-188},"conditionMetadata":[],"countryCodePrefix":"+1"},"933fa03f-3ae3-4c06-b637-d1e8791228bd":{"position":{"x":3490.4,"y":328}},"58e8a4d1-921f-4966-98fa-e45745aada80":{"position":{"x":2508.8,"y":-194.4},"parameters":{"Attributes":{"customer_zip":{"useDynamic":true}}},"dynamicParams":["customer_zip"]},"eef8a8b6-9c1d-4a97-8aac-7f5f1cf9c579":{"position":{"x":2818.4,"y":-192},"parameters":{"LambdaFunctionARN":{"displayName":"searchMemberByMiscellaneous"},"LambdaInvocationAttributes":{"customer_dob":{"useDynamic":true},"customer_zip":{"useDynamic":true},"customer_member_number":{"useDynamic":true}}},"dynamicMetadata":{"customer_dob":true,"customer_zip":true,"customer_member_number":true}},"b0ced6b3-8fa8-4084-a105-6214658f8615":{"position":{"x":3129.6000000000004,"y":-488.8}},"3c2c373c-af25-4af3-8d69-7c00a1e75c7b":{"position":{"x":1691.2,"y":-639.2}},"00730213-a6b0-4c0a-a0e5-96ca73cb5821":{"position":{"x":2097.6,"y":-704},"conditionMetadata":[{"id":"221d9759-8ea0-45b1-8eb5-f3d702a7cded","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"1"},{"id":"89ca7a21-69d5-4eb4-8fe3-a3158b4d16ba","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"2"},{"id":"c0d470df-f017-42f8-bb17-6528b02310da","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"3"},{"id":"1cb6abb5-c0f0-4c33-b77e-838a9c050baf","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"4"}]},"2d8add0a-abd5-4f0b-82ac-a307c6dc2c9f":{"position":{"x":961.6,"y":-328.8},"conditionMetadata":[{"id":"4f5b69fd-9a6c-4a0a-90cb-6e2fe2ea6030","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"872bb708-5019-4718-8f9c-615c4cfa3461":{"position":{"x":1448,"y":-500.8},"conditionMetadata":[{"id":"6957e0a3-b4d6-4a50-b3d4-733fa8f8e340","value":"1"},{"id":"1950bcba-fb88-4e47-8c47-3695dfb486d6","value":"2"}]}},"name":"Main Flow","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"ThirdPartyPhoneNumber":"+12019938588","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"True"},"Identifier":"68947d19-4201-410d-bc5e-c0accabe46b4","Type":"TransferParticipantToThirdParty","Transitions":{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"CallFailed"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"ConnectionTimeLimitExceeded"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_number":"$.CustomerEndpoint.Address","customer_choice":"$.StoredCustomerInput"}},"Identifier":"ebe52a8f-1682-4ef7-bb1b-9bbe88a913ee","Type":"UpdateContactAttributes","Transitions":{"NextAction":"a39e290f-e08c-4191-ba03-2ba6fa0a95a7","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:232154061460:function:searchMemberByPhone","InvocationTimeLimitSeconds":"5","LambdaInvocationAttributes":{"customer_number":"$.Attributes.customer_number"}},"Identifier":"86893226-d186-449a-aae3-c76b14b1f9b8","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"2d8add0a-abd5-4f0b-82ac-a307c6dc2c9f","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Ok, I will connect you to an HR representative now."},"Identifier":"26562e8e-dbe9-4aa9-b833-d1788d680e13","Type":"MessageParticipant","Transitions":{"NextAction":"68947d19-4201-410d-bc5e-c0accabe46b4","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ThirdPartyPhoneNumber":"+12019938588","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"True"},"Identifier":"a5a18a29-3ad8-419b-9473-2319220bac4a","Type":"TransferParticipantToThirdParty","Transitions":{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"CallFailed"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"ConnectionTimeLimitExceeded"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Ok, I will connect you to a marketing representative now."},"Identifier":"45163a19-8af5-4196-86a2-288069198632","Type":"MessageParticipant","Transitions":{"NextAction":"a5a18a29-3ad8-419b-9473-2319220bac4a","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Ok, I will connect you to an I.T. representative now."},"Identifier":"8e8ad9c6-f3e1-4a35-a8a2-fc9c5bb0236a","Type":"MessageParticipant","Transitions":{"NextAction":"decb6a10-ded1-4854-ae8c-8f8e3ebcb97c","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ThirdPartyPhoneNumber":"+12019938588","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"True"},"Identifier":"decb6a10-ded1-4854-ae8c-8f8e3ebcb97c","Type":"TransferParticipantToThirdParty","Transitions":{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"CallFailed"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"ConnectionTimeLimitExceeded"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Thanks for calling CM helpline! \nPress 1 to connect with the Human Resources Department.\nPress 2 to connect with the Information Technology Department.\nPress 3 to connect with the Marketing Department.\nPress 4 to connect with the Sales Department.","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"1"}}},"Identifier":"33d1a478-af12-406a-9d51-fcdd84a58219","Type":"GetParticipantInput","Transitions":{"NextAction":"ebe52a8f-1682-4ef7-bb1b-9bbe88a913ee","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.customer_choice"},"Identifier":"a39e290f-e08c-4191-ba03-2ba6fa0a95a7","Type":"Compare","Transitions":{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","Conditions":[{"NextAction":"86893226-d186-449a-aae3-c76b14b1f9b8","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"86893226-d186-449a-aae3-c76b14b1f9b8","Condition":{"Operator":"Equals","Operands":["2"]}},{"NextAction":"86893226-d186-449a-aae3-c76b14b1f9b8","Condition":{"Operator":"Equals","Operands":["3"]}},{"NextAction":"86893226-d186-449a-aae3-c76b14b1f9b8","Condition":{"Operator":"Equals","Operands":["4"]}}],"Errors":[{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ThirdPartyPhoneNumber":"+12019938588","ThirdPartyConnectionTimeLimitSeconds":"30","ContinueFlowExecution":"True"},"Identifier":"e07979ee-41ba-497b-a42f-a35bc5fee2a3","Type":"TransferParticipantToThirdParty","Transitions":{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"CallFailed"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"ConnectionTimeLimitExceeded"},{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"377c00e9-b72d-478d-8cee-6a552f51fd0e","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Ok, I will connect you to a sales representative now."},"Identifier":"b1906b97-f4f1-497d-832a-34c639cb3e4e","Type":"MessageParticipant","Transitions":{"NextAction":"e07979ee-41ba-497b-a42f-a35bc5fee2a3","Errors":[{"NextAction":"377c00e9-b72d-478d-8cee-6a552f51fd0e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"5","Text":"We don't have your profile or your phone number registered in our records, if you are an existing customer, please press 1, else press 0."},"Identifier":"28a10930-b4ed-4204-a45e-03d7644928fa","Type":"GetParticipantInput","Transitions":{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","Conditions":[{"NextAction":"b07de326-c3d5-4a67-a866-d2e19b2db35d","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"00730213-a6b0-4c0a-a0e5-96ca73cb5821","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingCondition"},{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your 8 digit member id number","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"8"}}},"Identifier":"b07de326-c3d5-4a67-a866-d2e19b2db35d","Type":"GetParticipantInput","Transitions":{"NextAction":"d637c2a8-8816-4632-93d2-b0dbb44be433","Errors":[{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_member_number":"$.StoredCustomerInput"}},"Identifier":"d637c2a8-8816-4632-93d2-b0dbb44be433","Type":"UpdateContactAttributes","Transitions":{"NextAction":"b40be414-3af1-432a-b0ed-02a340c0c040","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your birth year","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"4"}}},"Identifier":"b40be414-3af1-432a-b0ed-02a340c0c040","Type":"GetParticipantInput","Transitions":{"NextAction":"124148e2-f178-407c-bcd9-63fbc59b5255","Errors":[{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that's not a valid option, try again."},"Identifier":"62d03ba6-349c-4f7e-88ae-19613397816d","Type":"MessageParticipant","Transitions":{"NextAction":"33d1a478-af12-406a-9d51-fcdd84a58219","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_dob":"$.StoredCustomerInput"}},"Identifier":"124148e2-f178-407c-bcd9-63fbc59b5255","Type":"UpdateContactAttributes","Transitions":{"NextAction":"0f46d55d-859e-4650-9b71-136be5597025","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your zip-code","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"5"}}},"Identifier":"0f46d55d-859e-4650-9b71-136be5597025","Type":"GetParticipantInput","Transitions":{"NextAction":"58e8a4d1-921f-4966-98fa-e45745aada80","Errors":[{"NextAction":"62d03ba6-349c-4f7e-88ae-19613397816d","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"933fa03f-3ae3-4c06-b637-d1e8791228bd","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Attributes":{"customer_zip":"$.StoredCustomerInput"}},"Identifier":"58e8a4d1-921f-4966-98fa-e45745aada80","Type":"UpdateContactAttributes","Transitions":{"NextAction":"eef8a8b6-9c1d-4a97-8aac-7f5f1cf9c579","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:232154061460:function:searchMemberByMiscellaneous","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"customer_dob":"$.Attributes.customer_dob","customer_zip":"$.Attributes.customer_zip","customer_member_number":"$.Attributes.customer_member_number"}},"Identifier":"eef8a8b6-9c1d-4a97-8aac-7f5f1cf9c579","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"2d8add0a-abd5-4f0b-82ac-a307c6dc2c9f","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your $.External.intent detail are as follows..."},"Identifier":"b0ced6b3-8fa8-4084-a105-6214658f8615","Type":"MessageParticipant","Transitions":{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that's not a valid option."},"Identifier":"3c2c373c-af25-4af3-8d69-7c00a1e75c7b","Type":"MessageParticipant","Transitions":{"NextAction":"872bb708-5019-4718-8f9c-615c4cfa3461","Errors":[{"NextAction":"872bb708-5019-4718-8f9c-615c4cfa3461","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.customer_choice"},"Identifier":"00730213-a6b0-4c0a-a0e5-96ca73cb5821","Type":"Compare","Transitions":{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","Conditions":[{"NextAction":"26562e8e-dbe9-4aa9-b833-d1788d680e13","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"8e8ad9c6-f3e1-4a35-a8a2-fc9c5bb0236a","Condition":{"Operator":"Equals","Operands":["2"]}},{"NextAction":"45163a19-8af5-4196-86a2-288069198632","Condition":{"Operator":"Equals","Operands":["3"]}},{"NextAction":"b1906b97-f4f1-497d-832a-34c639cb3e4e","Condition":{"Operator":"Equals","Operands":["4"]}}],"Errors":[{"NextAction":"933fa03f-3ae3-4c06-b637-d1e8791228bd","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ComparisonValue":"$.External.flag"},"Identifier":"2d8add0a-abd5-4f0b-82ac-a307c6dc2c9f","Type":"Compare","Transitions":{"NextAction":"28a10930-b4ed-4204-a45e-03d7644928fa","Conditions":[{"NextAction":"872bb708-5019-4718-8f9c-615c4cfa3461","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"28a10930-b4ed-4204-a45e-03d7644928fa","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"15","Text":"Welcome $.External.customer_name are you trying to inquire about $.External.intent, if yes, press 1, else press 2.\n"},"Identifier":"872bb708-5019-4718-8f9c-615c4cfa3461","Type":"GetParticipantInput","Transitions":{"NextAction":"3c2c373c-af25-4af3-8d69-7c00a1e75c7b","Conditions":[{"NextAction":"b0ced6b3-8fa8-4084-a105-6214658f8615","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"00730213-a6b0-4c0a-a0e5-96ca73cb5821","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"3c2c373c-af25-4af3-8d69-7c00a1e75c7b","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"3c2c373c-af25-4af3-8d69-7c00a1e75c7b","ErrorType":"NoMatchingCondition"},{"NextAction":"3c2c373c-af25-4af3-8d69-7c00a1e75c7b","ErrorType":"NoMatchingError"}]}}]}