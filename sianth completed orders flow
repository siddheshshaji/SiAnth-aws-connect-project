{"Version":"2019-10-30","StartAction":"a13a74e2-f4ad-4a83-9c8b-6a5388f54f34","Metadata":{"entryPointPosition":{"x":-196.8,"y":58.400000000000006},"ActionMetadata":{"cb08c82e-1f7c-4fdf-99c1-134c122435e6":{"position":{"x":1099.2,"y":-202.4},"conditionMetadata":[{"id":"a2a3bc67-f72a-406d-a6ea-49f4b50e70aa","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"fd513b72-e804-413a-93e9-17b5babe701c":{"position":{"x":854.4000000000001,"y":-33.6},"parameters":{"LambdaFunctionARN":{"displayName":"predictiveIntent"},"LambdaInvocationAttributes":{"customer_order_number":{"useDynamic":true},"customer_number":{"useDynamic":true}}},"dynamicMetadata":{"customer_order_number":true,"customer_number":true}},"d0b0a309-e13f-4785-8712-2c52700efe87":{"position":{"x":1830.4,"y":-206.4},"parameters":{"ContactFlowId":{"displayName":"sianth invoice flow"}},"ContactFlow":{"text":"sianth invoice flow"}},"6b241adf-3f85-4341-9179-1952b3072d04":{"position":{"x":1833.6000000000001,"y":-364},"parameters":{"ContactFlowId":{"displayName":"sianth return and refund flow"}},"ContactFlow":{"text":"sianth return and refund flow"}},"01cc3702-6198-42cf-8794-690fa1853a4d":{"position":{"x":1591.2,"y":57.6}},"b506abeb-2703-45bd-aeaa-d915c6a305a3":{"position":{"x":1355.2,"y":-264},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"TestBotAlias","useLexBotDropdown":true,"lexV2BotName":"completed_orders"}}},"useLexBotDropdown":true,"lexV2BotName":"completed_orders","lexV2BotAliasName":"TestBotAlias","conditionMetadata":[{"id":"b46937a5-8dc0-4417-a686-ff92b7483d94","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"order_again"},{"id":"0b72025b-af99-4826-99fb-742dd8c7db1f","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"return_refund"},{"id":"fd5002ce-9382-4f54-8a59-7daf61aa05d3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Invoice"}]},"fde32363-5fc6-4670-b69c-dc132d34f559":{"position":{"x":1605.6000000000001,"y":-479.20000000000005},"parameters":{"ContactFlowId":{"displayName":"sianth order again flow"}},"ContactFlow":{"text":"sianth order again flow"}},"83e30689-7379-4afc-8bbc-8f35395db23b":{"position":{"x":584.8000000000001,"y":-485.6}},"497c41a4-8781-42e3-a76a-857a10885af8":{"position":{"x":860,"y":-408.8},"parameters":{"ContactFlowId":{"displayName":"sianth talk to an expert flow"}},"ContactFlow":{"text":"sianth talk to an expert flow"}},"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b":{"position":{"x":1797.6000000000001,"y":220}},"94d4f345-370b-498f-bbb0-59870542e42f":{"position":{"x":267.2,"y":-368.8},"conditionMetadata":[{"id":"920e27d0-895f-477b-ae65-93e4d584e339","value":"1"},{"id":"a955dd6d-d65c-4518-a321-f57571bf4846","value":"0"}]},"dbd8d040-f572-4e8a-aa51-e6e4f666ff88":{"position":{"x":603.2,"y":10.4},"parameters":{"Attributes":{"customer_order_number":{"useDynamic":true}}},"dynamicParams":["customer_order_number"]},"afec2baf-ff14-4e9d-8a0a-22a34eb8a7b7":{"position":{"x":586.4,"y":-243.20000000000002}},"a13a74e2-f4ad-4a83-9c8b-6a5388f54f34":{"position":{"x":-31.200000000000003,"y":-30.400000000000002},"conditionMetadata":[{"id":"8acc0182-6a42-4e56-a391-3e76eb3c30ee","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]},"85d94508-b333-4770-9264-152f64d7cafa":{"position":{"x":260.8,"y":-24},"conditionMetadata":[],"countryCodePrefix":"+1"}},"name":"sianth completed orders flow","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"ComparisonValue":"$.External.flag"},"Identifier":"cb08c82e-1f7c-4fdf-99c1-134c122435e6","Type":"Compare","Transitions":{"NextAction":"afec2baf-ff14-4e9d-8a0a-22a34eb8a7b7","Conditions":[{"NextAction":"b506abeb-2703-45bd-aeaa-d915c6a305a3","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"afec2baf-ff14-4e9d-8a0a-22a34eb8a7b7","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:232154061460:function:predictiveIntent","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"customer_order_number":"$.Attributes.customer_order_number","customer_number":"$.Attributes.customer_number"}},"Identifier":"fd513b72-e804-413a-93e9-17b5babe701c","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"cb08c82e-1f7c-4fdf-99c1-134c122435e6","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/65a2668c-1ca4-4e90-94d1-ee279c2be534"},"Identifier":"d0b0a309-e13f-4785-8712-2c52700efe87","Type":"TransferToFlow","Transitions":{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/9bcd3830-ab1f-4108-afe9-1f75671ea27c"},"Identifier":"6b241adf-3f85-4341-9179-1952b3072d04","Type":"TransferToFlow","Transitions":{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Please rephrase your answer or say clearly how can I help."},"Identifier":"01cc3702-6198-42cf-8794-690fa1853a4d","Type":"MessageParticipant","Transitions":{"NextAction":"b506abeb-2703-45bd-aeaa-d915c6a305a3","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Alright, the order number belongs to a $.External.product , which was ordered by you on $.External.order_placed_date and delivered on   $.External.order_completed_date. Payment was done using the card $.External.card_used. Please tell me in brief, What would you like to do with it now?","LexV2Bot":{"AliasArn":"arn:aws:lex:us-west-2:232154061460:bot-alias/CGGTNLBEGU/TSTALIASID"}},"Identifier":"b506abeb-2703-45bd-aeaa-d915c6a305a3","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Conditions":[{"NextAction":"fde32363-5fc6-4670-b69c-dc132d34f559","Condition":{"Operator":"Equals","Operands":["order_again"]}},{"NextAction":"6b241adf-3f85-4341-9179-1952b3072d04","Condition":{"Operator":"Equals","Operands":["return_refund"]}},{"NextAction":"d0b0a309-e13f-4785-8712-2c52700efe87","Condition":{"Operator":"Equals","Operands":["Invoice"]}}],"Errors":[{"NextAction":"01cc3702-6198-42cf-8794-690fa1853a4d","ErrorType":"NoMatchingCondition"},{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/bb00979f-f393-46eb-b309-2dd2cd42bdcd"},"Identifier":"fde32363-5fc6-4670-b69c-dc132d34f559","Type":"TransferToFlow","Transitions":{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that's not a valid option. Please try again."},"Identifier":"83e30689-7379-4afc-8bbc-8f35395db23b","Type":"MessageParticipant","Transitions":{"NextAction":"94d4f345-370b-498f-bbb0-59870542e42f","Errors":[{"NextAction":"94d4f345-370b-498f-bbb0-59870542e42f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/2f4b2a8b-6522-424e-8876-92baf0009ea9"},"Identifier":"497c41a4-8781-42e3-a76a-857a10885af8","Type":"TransferToFlow","Transitions":{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"33","Text":"It seems like there are no orders linked to your account which are completed. Press 1 to speak to a representative, press 0 to disconnect"},"Identifier":"94d4f345-370b-498f-bbb0-59870542e42f","Type":"GetParticipantInput","Transitions":{"NextAction":"83e30689-7379-4afc-8bbc-8f35395db23b","Conditions":[{"NextAction":"497c41a4-8781-42e3-a76a-857a10885af8","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"83e30689-7379-4afc-8bbc-8f35395db23b","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"83e30689-7379-4afc-8bbc-8f35395db23b","ErrorType":"NoMatchingCondition"},{"NextAction":"83e30689-7379-4afc-8bbc-8f35395db23b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_order_number":"$.StoredCustomerInput"}},"Identifier":"dbd8d040-f572-4e8a-aa51-e6e4f666ff88","Type":"UpdateContactAttributes","Transitions":{"NextAction":"fd513b72-e804-413a-93e9-17b5babe701c","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that doesn't looks correct, it should be a 6 digit number available on your invoice. Please try again."},"Identifier":"afec2baf-ff14-4e9d-8a0a-22a34eb8a7b7","Type":"MessageParticipant","Transitions":{"NextAction":"85d94508-b333-4770-9264-152f64d7cafa","Errors":[{"NextAction":"75b3e38e-4ac8-4c0a-9568-b69f9d1ad64b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.total_completed_orders"},"Identifier":"a13a74e2-f4ad-4a83-9c8b-6a5388f54f34","Type":"Compare","Transitions":{"NextAction":"85d94508-b333-4770-9264-152f64d7cafa","Conditions":[{"NextAction":"94d4f345-370b-498f-bbb0-59870542e42f","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"85d94508-b333-4770-9264-152f64d7cafa","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"50","Text":"Ok $.External.customer_name, Please enter the 6 digit order number of the product that you want to enquire about.","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"6"}}},"Identifier":"85d94508-b333-4770-9264-152f64d7cafa","Type":"GetParticipantInput","Transitions":{"NextAction":"dbd8d040-f572-4e8a-aa51-e6e4f666ff88","Errors":[{"NextAction":"afec2baf-ff14-4e9d-8a0a-22a34eb8a7b7","ErrorType":"NoMatchingError"}]}}]}