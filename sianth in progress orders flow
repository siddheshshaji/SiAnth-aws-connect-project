{"Version":"2019-10-30","StartAction":"5090c265-f3c7-4af7-8e81-06c877fe94df","Metadata":{"entryPointPosition":{"x":-313.6,"y":-45.6},"ActionMetadata":{"ac4e28db-9c97-4ef9-8500-a74778cc8899":{"position":{"x":1673.6000000000001,"y":104}},"42925f84-9baf-4c41-8bd9-a4a359768a2e":{"position":{"x":1857.6000000000001,"y":-448.8},"parameters":{"ContactFlowId":{"displayName":"sianth invoice flow"}},"ContactFlow":{"text":"sianth invoice flow"}},"b2b2abcc-1c20-4e06-ad80-d46d8f068b9d":{"position":{"x":589.6,"y":48},"parameters":{"Attributes":{"customer_order_number":{"useDynamic":true}}},"dynamicParams":["customer_order_number"]},"694dc30b-1c22-451c-b975-9b879503f25c":{"position":{"x":896.8000000000001,"y":-60.800000000000004},"parameters":{"LambdaFunctionARN":{"displayName":"predictiveIntentinprogressorders"},"LambdaInvocationAttributes":{"customer_order_number":{"useDynamic":true},"customer_number":{"useDynamic":true}}},"dynamicMetadata":{"customer_order_number":true,"customer_number":true}},"fd9d54f2-7d55-479c-8335-e79d73f6719b":{"position":{"x":1512,"y":-188},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"TestBotAlias","useLexBotDropdown":true,"lexV2BotName":"inprogressOrders"}}},"useLexBotDropdown":true,"lexV2BotName":"inprogressOrders","lexV2BotAliasName":"TestBotAlias","conditionMetadata":[{"id":"eef9113f-adc6-4abc-ae18-d226fd93d78f","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"invoice"},{"id":"25f11c10-dfec-41a6-8e09-dc72eee5a39d","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"order_cancellation"},{"id":"ae52c1c0-c41d-468b-ad1a-8fcf83e95230","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"order_status"}]},"51a7c27d-60c9-41ba-8194-cdc4dc80ffec":{"position":{"x":1908,"y":-291.2}},"3c0e3323-ddf4-487e-8274-732bf13f5874":{"position":{"x":1979.2,"y":-68.8}},"69cebd8c-959a-4c5b-b800-8746fe4a572f":{"position":{"x":2625.6000000000004,"y":-4},"parameters":{"ContactFlowId":{"displayName":"sianth main flow"}},"ContactFlow":{"text":"sianth main flow"}},"231a5047-3111-43ea-ac6e-103c15cf5f0c":{"position":{"x":2272,"y":-83.2},"conditionMetadata":[{"id":"bc056e2d-f186-48aa-a7a5-d8c8614a18a7","value":"1"},{"id":"69d12855-da55-4d5a-a50c-d0ebfd824f86","value":"0"}]},"fc1f1de1-eba4-4cf2-bfea-7983846bd967":{"position":{"x":1191.2,"y":-144},"conditionMetadata":[{"id":"1eb29562-a129-488d-9131-6b0c82d58853","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"56208737-3b3c-46e7-a9f5-edb548834269":{"position":{"x":2621.6000000000004,"y":269.6}},"cd460ab7-59a6-45e2-852a-5045cbf5b0ef":{"position":{"x":572.8000000000001,"y":-205.60000000000002}},"e0d3034e-76b7-4626-aee2-282473dc10d4":{"position":{"x":501.6,"y":-400.8},"parameters":{"ContactFlowId":{"displayName":"sianth talk to an expert flow"}},"ContactFlow":{"text":"sianth talk to an expert flow"}},"9845385b-0d14-4543-b312-c141fb359186":{"position":{"x":247.20000000000002,"y":13.600000000000001},"conditionMetadata":[],"countryCodePrefix":"+1"},"5090c265-f3c7-4af7-8e81-06c877fe94df":{"position":{"x":-162.4,"y":-64.8},"conditionMetadata":[{"id":"f80fced8-008f-46ac-9b3e-460188af4f70","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]},"82b78f26-9def-46ff-bbff-7ffefef1281c":{"position":{"x":97.60000000000001,"y":-387.20000000000005},"conditionMetadata":[{"id":"4fb16080-95a9-4390-ab0b-6a97602833c7","value":"1"},{"id":"c9b453eb-70bf-4247-b7e1-b131198dc55c","value":"0"}]},"18078863-0d69-4fbe-955c-b687c1910c8e":{"position":{"x":320.8,"y":-224.8}}},"name":"sianth in progress orders flow","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"Text":"Please rephrase your answer or say clearly how can I help."},"Identifier":"ac4e28db-9c97-4ef9-8500-a74778cc8899","Type":"MessageParticipant","Transitions":{"NextAction":"fd9d54f2-7d55-479c-8335-e79d73f6719b","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/65a2668c-1ca4-4e90-94d1-ee279c2be534"},"Identifier":"42925f84-9baf-4c41-8bd9-a4a359768a2e","Type":"TransferToFlow","Transitions":{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_order_number":"$.StoredCustomerInput"}},"Identifier":"b2b2abcc-1c20-4e06-ad80-d46d8f068b9d","Type":"UpdateContactAttributes","Transitions":{"NextAction":"694dc30b-1c22-451c-b975-9b879503f25c","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:232154061460:function:predictiveIntentinprogressorders","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"customer_order_number":"$.Attributes.customer_order_number","customer_number":"$.Attributes.customer_number"}},"Identifier":"694dc30b-1c22-451c-b975-9b879503f25c","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"fc1f1de1-eba4-4cf2-bfea-7983846bd967","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Alright, the order number belongs to a $.External.product , which was ordered by you on $.External.order_placed_date. Payment was done using the card $.External.card_used. Please tell me in brief, What would you like to do with it now?","LexV2Bot":{"AliasArn":"arn:aws:lex:us-west-2:232154061460:bot-alias/DAPLWZES6T/TSTALIASID"}},"Identifier":"fd9d54f2-7d55-479c-8335-e79d73f6719b","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Conditions":[{"NextAction":"42925f84-9baf-4c41-8bd9-a4a359768a2e","Condition":{"Operator":"Equals","Operands":["invoice"]}},{"NextAction":"51a7c27d-60c9-41ba-8194-cdc4dc80ffec","Condition":{"Operator":"Equals","Operands":["order_cancellation"]}},{"NextAction":"3c0e3323-ddf4-487e-8274-732bf13f5874","Condition":{"Operator":"Equals","Operands":["order_status"]}}],"Errors":[{"NextAction":"ac4e28db-9c97-4ef9-8500-a74778cc8899","ErrorType":"NoMatchingCondition"},{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your order will be canceled and the amount will be refunded back to the card you used while making this order i.e. the one with the number as follows $.External.card_used"},"Identifier":"51a7c27d-60c9-41ba-8194-cdc4dc80ffec","Type":"MessageParticipant","Transitions":{"NextAction":"231a5047-3111-43ea-ac6e-103c15cf5f0c","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"$.External.order_status"},"Identifier":"3c0e3323-ddf4-487e-8274-732bf13f5874","Type":"MessageParticipant","Transitions":{"NextAction":"231a5047-3111-43ea-ac6e-103c15cf5f0c","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/0ae695ac-c025-4bdb-b54f-70294d64deac"},"Identifier":"69cebd8c-959a-4c5b-b800-8746fe4a572f","Type":"TransferToFlow","Transitions":{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"5","Text":"Thanks again for calling, if you want to go back to the main menu, press 1, else if you are done, press 0"},"Identifier":"231a5047-3111-43ea-ac6e-103c15cf5f0c","Type":"GetParticipantInput","Transitions":{"NextAction":"69cebd8c-959a-4c5b-b800-8746fe4a572f","Conditions":[{"NextAction":"69cebd8c-959a-4c5b-b800-8746fe4a572f","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"69cebd8c-959a-4c5b-b800-8746fe4a572f","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"69cebd8c-959a-4c5b-b800-8746fe4a572f","ErrorType":"NoMatchingCondition"},{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.flag"},"Identifier":"fc1f1de1-eba4-4cf2-bfea-7983846bd967","Type":"Compare","Transitions":{"NextAction":"cd460ab7-59a6-45e2-852a-5045cbf5b0ef","Conditions":[{"NextAction":"fd9d54f2-7d55-479c-8335-e79d73f6719b","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"cd460ab7-59a6-45e2-852a-5045cbf5b0ef","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{},"Identifier":"56208737-3b3c-46e7-a9f5-edb548834269","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"Sorry, that doesn't looks correct, it should be a 6 digit number available on your invoice. Please try again."},"Identifier":"cd460ab7-59a6-45e2-852a-5045cbf5b0ef","Type":"MessageParticipant","Transitions":{"NextAction":"9845385b-0d14-4543-b312-c141fb359186","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/2f4b2a8b-6522-424e-8876-92baf0009ea9"},"Identifier":"e0d3034e-76b7-4626-aee2-282473dc10d4","Type":"TransferToFlow","Transitions":{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Errors":[{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"50","Text":"Ok $.External.customer_name, Please enter the order number of the product.","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"6"}}},"Identifier":"9845385b-0d14-4543-b312-c141fb359186","Type":"GetParticipantInput","Transitions":{"NextAction":"b2b2abcc-1c20-4e06-ad80-d46d8f068b9d","Errors":[{"NextAction":"cd460ab7-59a6-45e2-852a-5045cbf5b0ef","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.total_inprogress_orders"},"Identifier":"5090c265-f3c7-4af7-8e81-06c877fe94df","Type":"Compare","Transitions":{"NextAction":"9845385b-0d14-4543-b312-c141fb359186","Conditions":[{"NextAction":"82b78f26-9def-46ff-bbff-7ffefef1281c","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"9845385b-0d14-4543-b312-c141fb359186","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"50","Text":"It seems like there are no orders linked to your account which are in progress. Press 1 to speak to a representative, press 0 to disconnect"},"Identifier":"82b78f26-9def-46ff-bbff-7ffefef1281c","Type":"GetParticipantInput","Transitions":{"NextAction":"18078863-0d69-4fbe-955c-b687c1910c8e","Conditions":[{"NextAction":"e0d3034e-76b7-4626-aee2-282473dc10d4","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"56208737-3b3c-46e7-a9f5-edb548834269","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"18078863-0d69-4fbe-955c-b687c1910c8e","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"18078863-0d69-4fbe-955c-b687c1910c8e","ErrorType":"NoMatchingCondition"},{"NextAction":"18078863-0d69-4fbe-955c-b687c1910c8e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry that is not a valid option, please try again."},"Identifier":"18078863-0d69-4fbe-955c-b687c1910c8e","Type":"MessageParticipant","Transitions":{"NextAction":"82b78f26-9def-46ff-bbff-7ffefef1281c","Errors":[{"NextAction":"82b78f26-9def-46ff-bbff-7ffefef1281c","ErrorType":"NoMatchingError"}]}}]}