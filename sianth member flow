{"Version":"2019-10-30","StartAction":"636944c6-d4df-4a4d-9e64-d114a001118b","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"6d6c26a9-aa1f-49cb-bf9e-caa7b89943cf":{"position":{"x":677.6,"y":13.600000000000001},"parameters":{"Attributes":{"customer_member_number":{"useDynamic":true}}},"dynamicParams":["customer_member_number"]},"48e6da9f-5953-4120-9fb6-188437afd76e":{"position":{"x":963.2,"y":17.6},"conditionMetadata":[],"countryCodePrefix":"+1"},"17595c62-9925-40ae-aff8-c2b63e2a7386":{"position":{"x":1194.4,"y":13.600000000000001},"parameters":{"Attributes":{"customer_dob":{"useDynamic":true}}},"dynamicParams":["customer_dob"]},"4d3a0e9b-49dc-4595-9372-1111e6f38683":{"position":{"x":1428,"y":16},"conditionMetadata":[],"countryCodePrefix":"+1"},"77bb6162-c132-41da-889e-d88952d45343":{"position":{"x":2544.8,"y":134.4}},"ff9373b2-0d09-424a-a785-ab58c8d402ff":{"position":{"x":1665.6000000000001,"y":9.600000000000001},"parameters":{"Attributes":{"customer_zip":{"useDynamic":true}}},"dynamicParams":["customer_zip"]},"ca73f4be-5fe5-4198-abd6-567a37e06251":{"position":{"x":2620.8,"y":407.20000000000005}},"b3951fbb-020b-49cf-bc22-4b0dfb05335b":{"position":{"x":2150.4,"y":13.600000000000001},"conditionMetadata":[{"id":"571c270f-8ed4-40e5-8532-765b80b51568","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"24b0b5d1-92cc-4f8f-b0f4-9ec1d75efc85":{"position":{"x":1897.6000000000001,"y":12},"parameters":{"LambdaFunctionARN":{"displayName":"searchMemberByMiscellaneous"},"LambdaInvocationAttributes":{"customer_dob":{"useDynamic":true},"customer_zip":{"useDynamic":true},"customer_member_number":{"useDynamic":true}}},"dynamicMetadata":{"customer_dob":true,"customer_zip":true,"customer_member_number":true}},"01cc2832-ad6a-47dd-9fa0-9e83e03cd845":{"position":{"x":2971.2000000000003,"y":-520}},"9b4aaaa7-5ff7-4cb0-bee4-7eb66bfebbb5":{"position":{"x":2533.6000000000004,"y":-220},"conditionMetadata":[{"id":"b1023a4a-c888-483b-8645-534c80209f2b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]},"28884672-394a-4704-9928-a0106e234f49":{"position":{"x":3005.6000000000004,"y":108.80000000000001}},"24112099-bf9d-4d9e-8f22-f4de14b9b897":{"position":{"x":3280,"y":-317.6},"parameters":{"ContactFlowId":{"displayName":"sianth in progress orders flow"}},"ContactFlow":{"text":"sianth in progress orders flow"}},"581827ba-cad3-455a-a49c-fc2b4c2e6445":{"position":{"x":3236.8,"y":-496.8},"parameters":{"ContactFlowId":{"displayName":"sianth completed orders flow"}},"ContactFlow":{"text":"sianth completed orders flow"}},"efb8c840-c66b-496b-9ad7-8fd331d783fc":{"position":{"x":2753.6000000000004,"y":-368.8},"conditionMetadata":[{"id":"4f678ba3-8af4-4e1d-95b9-559f63f7e47f","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]},"abf69e67-12fb-4c2c-a66b-b9ccf9937b11":{"position":{"x":3326.4,"y":-136},"parameters":{"ContactFlowId":{"displayName":"sianth talk to an expert flow"}},"ContactFlow":{"text":"sianth talk to an expert flow"}},"2b1e7a27-237d-4919-ba44-561fe4f83b48":{"position":{"x":3392.8,"y":91.2}},"01e3a584-097d-4456-a96c-19917f09f53e":{"position":{"x":2966.4,"y":-292.8},"conditionMetadata":[{"id":"da3cf289-7a4d-48c3-befe-faecde39bbef","value":"1"},{"id":"5b0e9a66-f85e-4cca-a93b-f244fad8d50d","value":"2"},{"id":"3076ae1b-1f87-42e3-90c0-d700fdc93dde","value":"3"}]},"34138bde-3eca-4103-b5b6-e43c49f624c5":{"position":{"x":438.40000000000003,"y":16},"conditionMetadata":[],"countryCodePrefix":"+1"},"e6027998-f337-43e5-8957-529198a01aca":{"position":{"x":2780,"y":156.8},"parameters":{"ContactFlowId":{"displayName":"sianth talk to an expert flow"}},"ContactFlow":{"text":"sianth talk to an expert flow"}},"244fa03f-3538-4e9a-8ddb-fa3863623914":{"position":{"x":424.8,"y":242.4}},"636944c6-d4df-4a4d-9e64-d114a001118b":{"position":{"x":175.20000000000002,"y":21.6},"conditionMetadata":[{"id":"ccd8a63a-80e6-4c29-baf8-77fe56453022","value":"1"},{"id":"48d58012-1dbd-42c2-93d2-640f98c60386","value":"0"}]}},"name":"sianth member flow","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"Attributes":{"customer_member_number":"$.StoredCustomerInput"}},"Identifier":"6d6c26a9-aa1f-49cb-bf9e-caa7b89943cf","Type":"UpdateContactAttributes","Transitions":{"NextAction":"48e6da9f-5953-4120-9fb6-188437afd76e","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your birth year","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"4"}}},"Identifier":"48e6da9f-5953-4120-9fb6-188437afd76e","Type":"GetParticipantInput","Transitions":{"NextAction":"17595c62-9925-40ae-aff8-c2b63e2a7386","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_dob":"$.StoredCustomerInput"}},"Identifier":"17595c62-9925-40ae-aff8-c2b63e2a7386","Type":"UpdateContactAttributes","Transitions":{"NextAction":"4d3a0e9b-49dc-4595-9372-1111e6f38683","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your zip-code","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"5"}}},"Identifier":"4d3a0e9b-49dc-4595-9372-1111e6f38683","Type":"GetParticipantInput","Transitions":{"NextAction":"ff9373b2-0d09-424a-a785-ab58c8d402ff","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that's not a match in our records, I will connect you to a representative now"},"Identifier":"77bb6162-c132-41da-889e-d88952d45343","Type":"MessageParticipant","Transitions":{"NextAction":"e6027998-f337-43e5-8957-529198a01aca","Errors":[{"NextAction":"e6027998-f337-43e5-8957-529198a01aca","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"customer_zip":"$.StoredCustomerInput"}},"Identifier":"ff9373b2-0d09-424a-a785-ab58c8d402ff","Type":"UpdateContactAttributes","Transitions":{"NextAction":"24b0b5d1-92cc-4f8f-b0f4-9ec1d75efc85","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"ca73f4be-5fe5-4198-abd6-567a37e06251","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"ComparisonValue":"$.External.flag"},"Identifier":"b3951fbb-020b-49cf-bc22-4b0dfb05335b","Type":"Compare","Transitions":{"NextAction":"77bb6162-c132-41da-889e-d88952d45343","Conditions":[{"NextAction":"9b4aaaa7-5ff7-4cb0-bee4-7eb66bfebbb5","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"77bb6162-c132-41da-889e-d88952d45343","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-west-2:232154061460:function:searchMemberByMiscellaneous","InvocationTimeLimitSeconds":"3","LambdaInvocationAttributes":{"customer_dob":"$.Attributes.customer_dob","customer_zip":"$.Attributes.customer_zip","customer_member_number":"$.Attributes.customer_member_number"}},"Identifier":"24b0b5d1-92cc-4f8f-b0f4-9ec1d75efc85","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"b3951fbb-020b-49cf-bc22-4b0dfb05335b","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Welcome $.External.customer_name. \n"},"Identifier":"01cc2832-ad6a-47dd-9fa0-9e83e03cd845","Type":"MessageParticipant","Transitions":{"NextAction":"abf69e67-12fb-4c2c-a66b-b9ccf9937b11","Errors":[{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.total_completed_orders"},"Identifier":"9b4aaaa7-5ff7-4cb0-bee4-7eb66bfebbb5","Type":"Compare","Transitions":{"NextAction":"01e3a584-097d-4456-a96c-19917f09f53e","Conditions":[{"NextAction":"efb8c840-c66b-496b-9ad7-8fd331d783fc","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"01e3a584-097d-4456-a96c-19917f09f53e","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"Sorry, that's not a valid option. You will have to enter again.."},"Identifier":"28884672-394a-4704-9928-a0106e234f49","Type":"MessageParticipant","Transitions":{"NextAction":"01e3a584-097d-4456-a96c-19917f09f53e","Errors":[{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/85a07f47-6428-4304-bb01-b4612553f237"},"Identifier":"24112099-bf9d-4d9e-8f22-f4de14b9b897","Type":"TransferToFlow","Transitions":{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","Errors":[{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/92852ec5-c2dc-4ae6-8b40-331209c37948"},"Identifier":"581827ba-cad3-455a-a49c-fc2b4c2e6445","Type":"TransferToFlow","Transitions":{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","Errors":[{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.total_inprogress_orders"},"Identifier":"efb8c840-c66b-496b-9ad7-8fd331d783fc","Type":"Compare","Transitions":{"NextAction":"01e3a584-097d-4456-a96c-19917f09f53e","Conditions":[{"NextAction":"01cc2832-ad6a-47dd-9fa0-9e83e03cd845","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"01e3a584-097d-4456-a96c-19917f09f53e","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/2f4b2a8b-6522-424e-8876-92baf0009ea9"},"Identifier":"abf69e67-12fb-4c2c-a66b-b9ccf9937b11","Type":"TransferToFlow","Transitions":{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","Errors":[{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"2b1e7a27-237d-4919-ba44-561fe4f83b48","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"28","Text":"Welcome $.External.customer_name, I see you have  $.External.total_completed_orders completed orders and $.External.total_inprogress_orders in progress orders. Press 1 if you want to know more about your completed or previous orders. Press 2 to know more about the orders in progress. Press 3 to talk to an expert.\n"},"Identifier":"01e3a584-097d-4456-a96c-19917f09f53e","Type":"GetParticipantInput","Transitions":{"NextAction":"28884672-394a-4704-9928-a0106e234f49","Conditions":[{"NextAction":"581827ba-cad3-455a-a49c-fc2b4c2e6445","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"24112099-bf9d-4d9e-8f22-f4de14b9b897","Condition":{"Operator":"Equals","Operands":["2"]}},{"NextAction":"abf69e67-12fb-4c2c-a66b-b9ccf9937b11","Condition":{"Operator":"Equals","Operands":["3"]}}],"Errors":[{"NextAction":"28884672-394a-4704-9928-a0106e234f49","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"28884672-394a-4704-9928-a0106e234f49","ErrorType":"NoMatchingCondition"},{"NextAction":"2b1e7a27-237d-4919-ba44-561fe4f83b48","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"15","Text":"Please enter your 8 digit member id number","DTMFConfiguration":{"DisableCancelKey":"False"},"InputValidation":{"CustomValidation":{"MaximumLength":"8"}}},"Identifier":"34138bde-3eca-4103-b5b6-e43c49f624c5","Type":"GetParticipantInput","Transitions":{"NextAction":"6d6c26a9-aa1f-49cb-bf9e-caa7b89943cf","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ContactFlowId":"arn:aws:connect:us-west-2:232154061460:instance/4afffe99-5005-4677-a2e4-a5c4c791e6bf/contact-flow/2f4b2a8b-6522-424e-8876-92baf0009ea9"},"Identifier":"e6027998-f337-43e5-8957-529198a01aca","Type":"TransferToFlow","Transitions":{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","Errors":[{"NextAction":"ca73f4be-5fe5-4198-abd6-567a37e06251","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry, that's not a valid option. "},"Identifier":"244fa03f-3538-4e9a-8ddb-fa3863623914","Type":"MessageParticipant","Transitions":{"NextAction":"636944c6-d4df-4a4d-9e64-d114a001118b","Errors":[{"NextAction":"636944c6-d4df-4a4d-9e64-d114a001118b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"False","InputTimeLimitSeconds":"5","Text":"Thanks for calling Sianth customer care, we don't have your phone number registered in our records, if you are an existing customer, please press 1, else press 0 to talk to a representative."},"Identifier":"636944c6-d4df-4a4d-9e64-d114a001118b","Type":"GetParticipantInput","Transitions":{"NextAction":"244fa03f-3538-4e9a-8ddb-fa3863623914","Conditions":[{"NextAction":"34138bde-3eca-4103-b5b6-e43c49f624c5","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"e6027998-f337-43e5-8957-529198a01aca","Condition":{"Operator":"Equals","Operands":["0"]}}],"Errors":[{"NextAction":"244fa03f-3538-4e9a-8ddb-fa3863623914","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"244fa03f-3538-4e9a-8ddb-fa3863623914","ErrorType":"NoMatchingCondition"},{"NextAction":"244fa03f-3538-4e9a-8ddb-fa3863623914","ErrorType":"NoMatchingError"}]}}]}